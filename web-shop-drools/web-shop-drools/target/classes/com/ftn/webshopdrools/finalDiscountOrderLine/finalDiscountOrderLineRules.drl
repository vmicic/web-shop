//created on: May 16, 2020
package com.ftn.webshopdrools.finalDiscountOrderLine;

//list any import classes here.

import com.ftn.webshop.domain.DiscountForItem;
import com.ftn.webshop.domain.Order;
import com.ftn.webshop.domain.OrderLine;
import com.ftn.webshop.domain.Item;
import com.ftn.webshop.domain.ItemCategory;
import com.ftn.webshop.domain.TypeOfDiscountForItem;
import com.ftn.webshop.domain.User;
import com.ftn.webshop.domain.Promotion;

global com.ftn.webshop.services.impl.DiscountForItemServiceImpl discountForItemService;




rule "Add discount for any order line"
    when
    	$o: Order()
    	$orderLine: OrderLine() from $o.getOrderLines()
    then
		//System.out.println("Add discount for any order line");
        //modify($orderLine) {
        //	addDiscountForItem(new DiscountForItem($orderLine, 5.0, $o, TypeOfDiscountForItem.BASIC));
        //}
end


rule "Check discount for every order line"
	salience -100
    when
    	$o: Order()
    	$orderLine: OrderLine($discounts: discountsForItem) from $o.getOrderLines()
    	$discount: DiscountForItem() from $discounts
    then
    	System.out.println("Check discounts for every order line: " + $discount);
end






